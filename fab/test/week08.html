<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title></title>
    <link type="text/css" rel="stylesheet" href="assets/css/github-markdown.css">
    <link type="text/css" rel="stylesheet" href="assets/css/pilcrow.css">
    <link type="text/css" rel="stylesheet" href="assets/css/hljs-github.min.css"/>
  </head>
  <body>
    <article class="markdown-body"><div style="width:1000px; margin:0 auto;">
<center>
#Week 8

#Embedded programming

</center>

## Assignment

This weeks assignment consist of reading the microcontroller data sheet (attiny) to understand the functioning of our microcontroller and program my board (hello world) to do something, with as many different programming languages and programming environments as possible.

-----------------------

## Arduino Installetion and setting FabISP

 First download and install the arduino software. click <a href="https://www.arduino.cc/en/Main/Software">here</a>

   <em> unzip it
   </em> move the folder to desktop

open terminal in arduino folder

<code>sudo ./arduino</code>

Or<br>
if you need desktp icon. open terminal in arduino folder

<code>sh arduino.desktop</code><br>In desktop you can see Arduino IDE file , rigth click on it &gt; properties &gt; permisions&gt; mark tick on &quot;Allow executeing file as program&quot; .Now you can see aurduino IDE in your desktop.

---------------

##Adding Attiny Boards

Tutorial <a href="http://highlowtech.org/?p=1695">link</a>

1- Installing Arduino and the ATtiny files


Open the setings </b>file&gt;preferences</b>. Then paste the URLs address.

<code>https://raw.githubusercontent.com/damellis/attiny/ide-1.6.x-boards-manager/package_damellis_attiny_index.json</code>

<br>
<center><img src="img/w8/b1.png" width= "800"/></center>

OR

By default, The attiny board wont be present in Arduino. You either have install the borad files or paste the ATtiny files into the arduino directory.To install the files, select

<code>tools&gt;board&gt;boards manager</code>

<br>

<center><img src="img/w8/b2.PNG" width= "800"/></center>


----------------


## Programming

### IC Attiny 44 diagram

 I had to make sure that the pin out of the ATtiny44 was compliant with that of Arduino as shown in the image here:

<center><img src="img/w8/attiny44.png" width= "800"/></center>

<center><img src="img/w8/arduino_vs_attiny_pinouts.png" width= "800"/></center>



### <a href="code/Blink.zip">Blink led</a>

I uploaded the blink example code using Arduino on to the ATtiny44 board I made the other day (all the programs created can be found embedded in this page).

The program was successfully uploaded on to the board through the FabISP (which I made, check here) using the following settings:

<em>   Board: ATtiny
</em>   Processor: ATtiny 44
*   Clock: 20 MHz (external)
    Programmer: USB Tiny ISP



<code>void setup() {
     pinMode(8, OUTPUT);
    }
    void loop() {
    digitalWrite(8, HIGH);   
    delay(1000); 
    digitalWrite(8, LOW);    
    delay(1000);             
    }</code> 

<center><img src="gif/w8/blink.gif" width= "800"/></center>

-------------

###<a href="code/Button_press_LED_on.zip">Button press LED on</a>

<code>const int buttonPin = 6;   
const int ledPin =  8;      


int buttonState = 0;         

void setup() {

  pinMode(ledPin, OUTPUT);

  digitalWrite(buttonPin,HIGH);
}

void loop() {

  buttonState = digitalRead(buttonPin);


  if (buttonState == HIGH) {

    digitalWrite(ledPin, LOW);
  } else {

    digitalWrite(ledPin, HIGH);
  }
}</code>

<center><img src="gif/w8/button.gif" width= "800"/></center>



----------------


### <a href="code/serialcommunication.zip">Serial communication</a>

<code>#include &lt;SoftwareSerial.h&gt;

SoftwareSerial mySerial(0, 1);


const int buttonPin = 6;     
const int ledPin =  8;    

int buttonState = 0;        

void setup() {
  mySerial.begin(9600);

  pinMode(ledPin, OUTPUT);

  pinMode(buttonPin, INPUT);
  digitalWrite(buttonPin, HIGH);
}

void loop() {

  buttonState = digitalRead(buttonPin);
  if (buttonState == LOW) {
    digitalWrite(ledPin, HIGH);
    mySerial.write(&quot;Hello world&quot;);
  } else {
    digitalWrite(ledPin, LOW);
  }
}</code>

<center><img src="gif/w8/serial.gif" width= "800"/></center>


</div>
    </article>
  </body>
</html>
